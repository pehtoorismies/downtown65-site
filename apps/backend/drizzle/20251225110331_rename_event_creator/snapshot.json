{
  "version": "7",
  "dialect": "sqlite",
  "id": "a8b7efc0-5d9a-4f8b-837f-239e26477a00",
  "prevIds": [
    "ed1d4849-17db-41ff-b9f6-90e70e01776e"
  ],
  "ddl": [
    {
      "name": "events",
      "entityType": "tables"
    },
    {
      "name": "users",
      "entityType": "tables"
    },
    {
      "name": "users_to_events",
      "entityType": "tables"
    },
    {
      "type": "integer",
      "notNull": false,
      "autoincrement": true,
      "default": null,
      "generated": null,
      "name": "id",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "eventULID",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "title",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "subtitle",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": "''",
      "generated": null,
      "name": "description",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "eventType",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "dateStart",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "timeStart",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "location",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": "0",
      "generated": null,
      "name": "race",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": "CURRENT_TIMESTAMP",
      "generated": null,
      "name": "createdAt",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": "CURRENT_TIMESTAMP",
      "generated": null,
      "name": "updatedAt",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "creatorId",
      "entityType": "columns",
      "table": "events"
    },
    {
      "type": "integer",
      "notNull": false,
      "autoincrement": true,
      "default": null,
      "generated": null,
      "name": "id",
      "entityType": "columns",
      "table": "users"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "auth0Sub",
      "entityType": "columns",
      "table": "users"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "nickname",
      "entityType": "columns",
      "table": "users"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "picture",
      "entityType": "columns",
      "table": "users"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "userId",
      "entityType": "columns",
      "table": "users_to_events"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "eventId",
      "entityType": "columns",
      "table": "users_to_events"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": "CURRENT_TIMESTAMP",
      "generated": null,
      "name": "createdAt",
      "entityType": "columns",
      "table": "users_to_events"
    },
    {
      "columns": [
        "creatorId"
      ],
      "tableTo": "users",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "nameExplicit": false,
      "name": "fk_events_createdBy_users_id_fk",
      "entityType": "fks",
      "table": "events"
    },
    {
      "columns": [
        "userId"
      ],
      "tableTo": "users",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "nameExplicit": false,
      "name": "fk_users_to_events_userId_users_id_fk",
      "entityType": "fks",
      "table": "users_to_events"
    },
    {
      "columns": [
        "eventId"
      ],
      "tableTo": "events",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "nameExplicit": false,
      "name": "fk_users_to_events_eventId_events_id_fk",
      "entityType": "fks",
      "table": "users_to_events"
    },
    {
      "columns": [
        "userId",
        "eventId"
      ],
      "nameExplicit": false,
      "name": "users_to_events_pk",
      "entityType": "pks",
      "table": "users_to_events"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "events_pk",
      "table": "events",
      "entityType": "pks"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "users_pk",
      "table": "users",
      "entityType": "pks"
    },
    {
      "columns": [
        {
          "value": "eventULID",
          "isExpression": false
        }
      ],
      "isUnique": false,
      "where": null,
      "origin": "manual",
      "name": "events_eventULID_idx",
      "entityType": "indexes",
      "table": "events"
    },
    {
      "columns": [
        {
          "value": "auth0Sub",
          "isExpression": false
        }
      ],
      "isUnique": false,
      "where": null,
      "origin": "manual",
      "name": "users_auth0Sub_idx",
      "entityType": "indexes",
      "table": "users"
    },
    {
      "columns": [
        "nickname"
      ],
      "nameExplicit": false,
      "name": "users_nickname_unique",
      "entityType": "uniques",
      "table": "users"
    }
  ],
  "renames": [
    "events.createdBy->events.creatorId"
  ]
}